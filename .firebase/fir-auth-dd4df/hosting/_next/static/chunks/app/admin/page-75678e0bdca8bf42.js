(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8403:function(e,t,s){Promise.resolve().then(s.bind(s,3986))},3986:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),n=s(4263),r=s(6463),u=s(9842);let i=(0,u.ad)(),l=async(e,t)=>{try{return{result:(await (0,u.ET)((0,u.hJ)(i,e),t)).id,error:null}}catch(e){return{result:null,error:e}}};var c=s(2265);let d=(0,u.ad)();async function o(e,t){let s=(0,u.hJ)(d,e),a=(0,u.IO)(s,(0,u.ar)("userId","==",t)),n=[],r=null;try{(await (0,u.PL)(a)).forEach(e=>{n.push({id:e.id,...e.data()})})}catch(e){r=e}return{result:n,error:r}}var m=s(1721),f=s(5735);let h=(0,f.v0)(m.Z);var p=function(){let{user:e}=(0,n.Eu)(),t=(0,r.useRouter)(),[s,u]=(0,c.useState)(""),[i,d]=(0,c.useState)("Listed"),[m,p]=(0,c.useState)(""),[g,x]=(0,c.useState)([]),b=async()=>{if(!s.trim()){p("Task cannot be empty.");return}let t={task:s,status:i,userId:e.uid},{result:a,error:n}=await l("tasks",t);a?(v(),u("")):n&&p("Error adding data: "+n.message)},v=async()=>{let{result:t,error:s}=await o("tasks",e.uid);t?x(t):s&&console.log("Error fetching data: "+s.message)},j=async()=>{try{await (0,f.w7)(h),t.push("/sign-in")}catch(e){console.log("Error signing out: "+e.message)}};return(0,c.useEffect)(()=>{null==e?t.push("/sign-in"):v()},[e]),(0,a.jsx)("div",{className:"bg-cover bg-center flex flex-col justify-center items-center min-h-screen bg-custom-gradient",children:(0,a.jsxs)("div",{className:"bg-white bg-opacity-80 p-8 rounded-lg w-full max-w-md",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"font-medium text-3xl",children:"Welcome back!"}),(0,a.jsx)("button",{onClick:j,className:"p-2 bg-red-500 bg-opacity-40 rounded-md text-red-700 font-medium",children:"Sign Out"})]}),(0,a.jsx)("h1",{className:"font-medium mb-2",children:"Input Task"}),(0,a.jsxs)("div",{className:"flex w-full ",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>u(e.target.value),className:"w-full rounded border border-gray-300 mr-2"}),(0,a.jsx)("button",{onClick:()=>b(),className:"p-2 px-4 bg-blue-500 text-white rounded cursor-pointer hover:bg-blue-600",children:"Add"})]}),m&&(0,a.jsx)("p",{className:"text-sm mt-0",children:m}),(0,a.jsx)("h2",{className:"font-medium",children:"All Tasks"}),g.length>0&&(0,a.jsx)("div",{className:"space-y-2",children:g.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{children:e.task}),(0,a.jsx)("p",{className:"py-1 px-4 bg-blue-700 bg-opacity-20 rounded-lg font-medium text-blue-700",children:e.status})]},e.id))})]})})}},4263:function(e,t,s){"use strict";s.d(t,{Eu:function(){return c},HD:function(){return d}});var a=s(7437),n=s(2265),r=s(5735),u=s(1721);let i=(0,r.v0)(u.Z),l=n.createContext({}),c=()=>n.useContext(l),d=e=>{let{children:t}=e,[s,u]=n.useState(null),[c,d]=n.useState(!0);return n.useEffect(()=>{let e=(0,r.Aj)(i,e=>{e?u(e):u(null),d(!1)});return()=>e()},[]),(0,a.jsx)(l.Provider,{value:{user:s},children:c?(0,a.jsx)("div",{children:"Loading..."}):t})}},1721:function(e,t,s){"use strict";var a=s(5236);s(5735);let n=(0,a.ZF)({apiKey:"AIzaSyBlZZBsXpcZYVKYJRLi9SKVXMzt126pvg8",authDomain:"fir-auth-dd4df.firebaseapp.com",projectId:"fir-auth-dd4df",storageBucket:"fir-auth-dd4df.appspot.com",messagingSenderId:"269666752219",appId:"1:269666752219:web:5e2f96353713d618ce9efe",measurementId:"G-9GTQJHT38R"});t.Z=n}},function(e){e.O(0,[898,358,597,389,971,23,744],function(){return e(e.s=8403)}),_N_E=e.O()}]);